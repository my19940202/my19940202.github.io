<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-hk">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//apps.bdimg.com/libs/fontawesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="波波的github page">
<meta property="og:url" content="http://my19940202.github.io/index.html">
<meta property="og:site_name" content="波波的github page">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="波波的github page">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '3e2294c9d57ca352ada107c5f5855f9f',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://my19940202.github.io/"/>





  <title> 波波的github page </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-hk">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?f2dcca6e29fe6dad9ed4751073ce25bd";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">波波的github page</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/08/13/nginx/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/13/nginx/" itemprop="url">
                  nginx相关知识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-08-13T16:27:29+08:00">
                2016-08-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/backend/" itemprop="url" rel="index">
                    <span itemprop="name">backend</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/08/13/nginx/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/13/nginx/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="u4E0A_u5468_u521D_u914D_u4E86_u4E00_u5929_u7684nginx_uFF0C_u6574_u7406_u4E00_u4E0B_u5173_u4E8Enginx_u7684_u7B80_u5355_u914D_u7F6E"><a href="#u4E0A_u5468_u521D_u914D_u4E86_u4E00_u5929_u7684nginx_uFF0C_u6574_u7406_u4E00_u4E0B_u5173_u4E8Enginx_u7684_u7B80_u5355_u914D_u7F6E" class="headerlink" title="上周初配了一天的nginx，整理一下关于nginx的简单配置"></a>上周初配了一天的nginx，整理一下关于nginx的简单配置</h3><blockquote>
<p>上周做的事情其实就是给nginx多加一个接口,主要是copy一个已有服务,稍作修改新建一个新服务</p>
<p>实际操作中发现公司内容用到的nginx,和网上找到的nginx目录里面还是有些不同的<br><em>但是主要配置文件一样 都在conf/nginx.conf,conf/server.conf</em></p>
<p>修改了nginx配置之后，采取热启动 kill -HUP pid,更新配置</p>
</blockquote>
<p><em>conf/nginx.conf</em><br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">server</span> &#123;</span><br><span class="line">        <span class="comment"># 监听7891端口</span></span><br><span class="line">        <span class="title">listen</span>       <span class="number">7891</span> deferred;</span><br><span class="line">        <span class="title">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="title">access_log</span>  logs/access.log main;</span><br><span class="line">        <span class="title">error_log</span>   logs/error.log;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#之前老配置</span></span><br><span class="line">        <span class="title">location</span> / &#123;</span><br><span class="line">            <span class="title">proxy_pass</span> <span class="url">http://backend</span>;</span><br><span class="line">            <span class="title">proxy_set_header</span> Host      <span class="variable">$host</span>;</span><br><span class="line">            <span class="title">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#新增配置 新增了coupon 路由</span></span><br><span class="line">        <span class="title">location</span> /coupon &#123;</span><br><span class="line">            <span class="title">proxy_pass</span> <span class="url">http://couponend</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title">fastcgi_intercept_errors</span> <span class="built_in">on</span>;</span><br><span class="line">        <span class="title">server_tokens</span>  <span class="built_in">off</span>;</span><br><span class="line"></span><br><span class="line">        <span class="title">error_page</span> <span class="number">400</span> <span class="number">403</span> <span class="number">404</span> <span class="string">"/search/error.html"</span>;</span><br><span class="line">        <span class="title">error_page</span> <span class="number">500</span> <span class="number">501</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> <span class="number">505</span> <span class="string">"/search/blank.html"</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><em>conf/server.conf</em><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#老配置 random分发给另外两台机器 负载均衡</span><br><span class="line">upstream backend &#123;</span><br><span class="line">        random;</span><br><span class="line">        retry 2;</span><br><span class="line">        server 10.195.159.33:7892;</span><br><span class="line">        server 10.195.159.16:7892;</span><br><span class="line">&#125;</span><br><span class="line">#新增配置  超时后进行retry</span><br><span class="line">upstream couponend &#123;</span><br><span class="line">        retry 2;</span><br><span class="line">        server 10.67.34.24:8189;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="u672C_u5468_u505A_u65E5_u5FD7_u7EDF_u8BA1_u5DE5_u4F5C_2C_u5904_u7406_u4E86nginx_log"><a href="#u672C_u5468_u505A_u65E5_u5FD7_u7EDF_u8BA1_u5DE5_u4F5C_2C_u5904_u7406_u4E86nginx_log" class="headerlink" title="本周做日志统计工作,处理了nginx log"></a>本周做日志统计工作,处理了nginx log</h3><blockquote>
<p>统计工作集中在后端请求失败率上 浏览器—nginx—后端，统计从前端日志、nginx日志、后端日志<br>验证，nginx上主要是看请求数和请求失败数，</p>
</blockquote>
<h4 id="u57FA_u7840_u77E5_u8BC6"><a href="#u57FA_u7840_u77E5_u8BC6" class="headerlink" title="基础知识"></a>基础知识</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># nginx log_format</span></span><br><span class="line"><span class="title">log_format</span>  main  <span class="string">'<span class="variable">$http_clientip</span> <span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] "<span class="variable">$request</span>" '</span></span><br><span class="line">                      <span class="string">'<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> "<span class="variable">$http_referer</span>" '</span></span><br><span class="line">                      <span class="string">'"<span class="variable">$http_user_agent</span>" [<span class="variable">$upstream_response_time</span>|<span class="variable">$request_time</span>]'</span>;</span><br></pre></td></tr></table></figure>
<p>字段含义</p>
<ul>
<li>http_clientip 客户端ip</li>
<li>status http状态码</li>
<li>http_user_agent user_agent   </li>
<li><p>request_time</p>
<blockquote>
<p>request processing time in seconds with a milliseconds resolution; time elapsed between the first bytes were read from the client and the log write after the last bytes were sent to the client<br>可以归纳成nginx接受到http请求到完全返回结果数据的耗时</p>
</blockquote>
</li>
<li><p>upstream_response_time</p>
<blockquote>
<p>keeps times of responses obtained from upstream servers; times are kept in seconds with a milliseconds resolution. Several response times are separated by commas and colons like addresses in the $upstream_addr variable<br>可以归纳成nginx请求后端拿到数据到关闭连接的耗时<br>[-|1.015] 有时会出现这样的日志数据,nginx做了缓存处理，没有请求后端，将缓存结果返回给了客户端</p>
</blockquote>
</li>
</ul>
<h4 id="u83B7_u53D6_u65E5_u5FD7_u6761_u6570_u4EE5_u53CArequest_time_u7684_u533A_u95F4_u5206_u5E03_28_u61D2_u5F97_u7EDF_u8BA1_u540E_u7AEF_uFF0Cnginx_u548C_u540E_u7AEF_u8017_u65F6_u8F83_u5C11_29"><a href="#u83B7_u53D6_u65E5_u5FD7_u6761_u6570_u4EE5_u53CArequest_time_u7684_u533A_u95F4_u5206_u5E03_28_u61D2_u5F97_u7EDF_u8BA1_u540E_u7AEF_uFF0Cnginx_u548C_u540E_u7AEF_u8017_u65F6_u8F83_u5C11_29" class="headerlink" title="获取日志条数以及request_time的区间分布(懒得统计后端，nginx和后端耗时较少)"></a>获取日志条数以及request_time的区间分布(懒得统计后端，nginx和后端耗时较少)</h4><p>这个比较简单,python或者shell截取字符串其实都可以<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/local/bin/python</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="string">"""</span><br><span class="line">stat the upstream_response_time|$request_time</span><br><span class="line">in nginx log</span><br><span class="line">str example:</span><br><span class="line">1. [-|1.015] hit the nginx cache</span><br><span class="line">2. [12,13|0.100] upstream_response_time fail and retry</span><br><span class="line">3. [1.22|1.00] normal</span><br><span class="line">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    num = <span class="number">0</span></span><br><span class="line">    list_num = <span class="number">0</span></span><br><span class="line">    detail_num = <span class="number">0</span></span><br><span class="line">    time_list = range(<span class="number">31</span>)</span><br><span class="line">    hit_cache = <span class="number">0</span></span><br><span class="line">    timeGapArr = [<span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> time_list ]</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> sys.stdin:</span><br><span class="line">        item = line</span><br><span class="line">        recommend_flag = <span class="string">'GET /get_'</span>;</span><br><span class="line">        recommend_flag1 = <span class="string">'GET /get_list.do'</span>;</span><br><span class="line">        recommend_flag2 = <span class="string">'GET /get_detail.do'</span>;</span><br><span class="line">        seprateStr = <span class="string">'" ['</span></span><br><span class="line">        <span class="keyword">if</span> (recommend_flag1 <span class="keyword">in</span> line):</span><br><span class="line">            list_num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> (recommend_flag2 <span class="keyword">in</span> line):</span><br><span class="line">            detail_num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> (recommend_flag1 <span class="keyword">in</span> line <span class="keyword">and</span> seprateStr <span class="keyword">in</span> line):</span><br><span class="line">            line = line.replace(<span class="string">'\n'</span>, <span class="string">''</span>)</span><br><span class="line">            line = line.split(seprateStr)[<span class="number">1</span>].replace(<span class="string">']'</span>,<span class="string">''</span>)</span><br><span class="line">            line = line.split(<span class="string">'|'</span>)</span><br><span class="line">            <span class="keyword">if</span> (line[<span class="number">1</span>].replace(<span class="string">'.'</span>,<span class="string">''</span>).isdigit()):</span><br><span class="line">                num += <span class="number">1</span></span><br><span class="line">                req_time = float(line[<span class="number">1</span>])</span><br><span class="line">                idx = int(req_time)</span><br><span class="line">                <span class="keyword">if</span> (idx &lt;= <span class="number">30</span>):</span><br><span class="line">                    timeGapArr[idx] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">'[-|'</span> <span class="keyword">in</span> item):</span><br><span class="line">            hit_cache += <span class="number">1</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'list page req num:'</span>, list_num</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'detail page req num:'</span>, detail_num</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'total req num'</span>, (list_num + detail_num), <span class="string">' hit cache '</span>, hit_cache</span><br><span class="line">    <span class="keyword">print</span> time_list</span><br><span class="line">    <span class="keyword">print</span> timeGapArr</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></p>
<p>输出结果<br>cat data.m1 | python stat.py</p>
<blockquote>
<p>list page req num: 40155<br>detail page req num: 64<br>// cache的命中情况<br>total req num 40219  hit cache  904<br>// req_time的在 0 1 2 3、、、秒的分布情况<br>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]<br>[37948, 693, 257, 139, 71, 1026, 3, 3, 0, 0, 3, 3, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]</p>
</blockquote>
<h3 id="u603B_u7ED3"><a href="#u603B_u7ED3" class="headerlink" title="总结"></a>总结</h3><p>每个项目初版完成后, 前端工作大体上基本完成，后面进入优化阶段。这个阶段优化的都是建立在数据分析的<br>基础上，最近也就开始搞搞数据分析。<br>下面是经理给我列的两个数据分析的原则</p>
<ul>
<li><p>先给出分析的结论</p>
<blockquote>
<p>一方面自己需要总结分析结论，另外一方面你的上级没有精力去看你的分析数据自己总结</p>
</blockquote>
</li>
<li><p>不能令人信服的结论结合原始数据分析</p>
<blockquote>
<p>有争议的数据 最后还是以数据为准</p>
</blockquote>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/08/07/cookie/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/07/cookie/" itemprop="url">
                  cookie
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-08-07T12:52:56+08:00">
                2016-08-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/backend/" itemprop="url" rel="index">
                    <span itemprop="name">backend</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/08/07/cookie/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/07/cookie/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="u8FD9_u5468_u5E72_u6D3B_u7684_u65F6_u5019_u9047_u5230_u4E00_u4E2A_u95EE_u9898_uFF0C_u5BFC_u81F4_u540E_u7AEF_u57FA_u4E8Ecookie_u7B49_u7279_u5F81_u8FDB_u884C_u5185_u5BB9_u63A8_u8350_u7684_u670D_u52A1_u6302_u6389_u3002_u7136_u540E_u4E3A_u4E86_u5904_u7406_u8FD9_u4E2A_u95EE_u9898_uFF0C_u82B1_u4E86_u4E0D_u5C11_u529F_u592B_u3002"><a href="#u8FD9_u5468_u5E72_u6D3B_u7684_u65F6_u5019_u9047_u5230_u4E00_u4E2A_u95EE_u9898_uFF0C_u5BFC_u81F4_u540E_u7AEF_u57FA_u4E8Ecookie_u7B49_u7279_u5F81_u8FDB_u884C_u5185_u5BB9_u63A8_u8350_u7684_u670D_u52A1_u6302_u6389_u3002_u7136_u540E_u4E3A_u4E86_u5904_u7406_u8FD9_u4E2A_u95EE_u9898_uFF0C_u82B1_u4E86_u4E0D_u5C11_u529F_u592B_u3002" class="headerlink" title="这周干活的时候遇到一个问题，导致后端基于cookie等特征进行内容推荐的服务挂掉。然后为了处理这个问题，花了不少功夫。"></a>这周干活的时候遇到一个问题，导致后端基于cookie等特征进行内容推荐的服务挂掉。然后为了处理这个问题，花了不少功夫。</h2><h5 id="u95EE_u9898_u5177_u4F53_u573A_u666F"><a href="#u95EE_u9898_u5177_u4F53_u573A_u666F" class="headerlink" title="问题具体场景"></a>问题具体场景</h5><ul>
<li>cookie设置:前端种(document.cookie = ‘xx=123’)，也可以后端种(http response header 返回里面的set-cookie字段就可以设置cookie)</li>
<li>baiduid是baidu域名下cookie中的baiduid</li>
<li>页面向一个xxx.baidu.com请求内容，然后进行渲染。</li>
<li>后端的服务根据请求内容时传递的baiduid推送相关的内容,baiduid塞在URL里面，类似 xxx.baidu.com?baidu=12631782&amp;flag=1</li>
<li>在非baidu域名的站点下，请求内容时没有办法直接获取baiduid(cookie不能跨域)，前端在这样的情况下就返回了random的32位baiduid</li>
<li>无效baiduid超出一定范围后，就把后端搞挂了。</li>
</ul>
<h5 id="u521A_u5F00_u59CB_u7684_u89E3_u51B3_u65B9_u6848"><a href="#u521A_u5F00_u59CB_u7684_u89E3_u51B3_u65B9_u6848" class="headerlink" title="刚开始的解决方案"></a>刚开始的解决方案</h5><p>没有获取有效的baidu，那就先办法获取有效的baiduid。</p>
<ul>
<li>那就在baidu域下面搞个空页面，这个空页面将baiduid以某种形式输出(直接在body里面打印、或者在URL里面加上#baiduid)</li>
</ul>
<p>刚开始只是想当然做了一个空页面，能在body里面和URL里面把URL输出了一下，没有具体在页面中尝试，后来发现这样的情况<br>也属于跨域，我用iframe调用这个页面的时候，也是无法获取iframe相关的资源的。</p>
<h5 id="u5176_u4ED6FE_u5EFA_u8BAE_u7684_u89E3_u51B3_u65B9_u6848"><a href="#u5176_u4ED6FE_u5EFA_u8BAE_u7684_u89E3_u51B3_u65B9_u6848" class="headerlink" title="其他FE建议的解决方案"></a>其他FE建议的解决方案</h5><p>后来在FE大群里面向其他大牛请教方案，大牛提示可以使用window.name(<a href="http://blog.csdn.net/bao19901210/article/details/21458001" target="_blank" rel="external">http://blog.csdn.net/bao19901210/article/details/21458001</a>)<br>和 postmessge(没有仔细查过资料)</p>
<p>但是FE的大牛以提议不要随便动baiduid涉及到了公司的安全，可能会被公司安全组发现。</p>
<h5 id="u6700_u540E_u7684_u89E3_u51B3_u65B9_u6848"><a href="#u6700_u540E_u7684_u89E3_u51B3_u65B9_u6848" class="headerlink" title="最后的解决方案"></a>最后的解决方案</h5><p>后来意识到http请求是向 xxx.baidu.com发出的，request header里面是会自动带上baidu.com下面的所有cookie,可以在 xxx.baidu.com的后端代码做一些处理。<br>获取http request header cookie里面的baiduid,替换参数里面的baiduid.<br>xxx.baidu.com其实也是只是个转发的服务器<br>具体代码如下<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getBAIDUIdFromCookie = <span class="function"><span class="keyword">function</span> (<span class="params">req</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// get cookie in http request</span></span><br><span class="line">    <span class="keyword">var</span> Cookies = &#123;&#125;;</span><br><span class="line">    req.headers.cookie &amp;&amp; req.headers.cookie.split(<span class="string">';'</span>).forEach(<span class="function"><span class="keyword">function</span>(<span class="params"> Cookie </span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> parts = Cookie.split(<span class="string">'='</span>);</span><br><span class="line">        Cookies[parts[<span class="number">0</span>].trim()] = (parts[ <span class="number">1</span> ] || <span class="string">''</span> ).trim().split(<span class="string">':'</span>)[<span class="number">0</span>];</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> Cookies[<span class="string">'BAIDUID'</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ral_option = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> params = urllib.parse(req.url, <span class="literal">true</span>);</span><br><span class="line">ral_option.data = <span class="built_in">decodeURIComponent</span>(params.query.q);</span><br><span class="line"><span class="comment">// set baiduid</span></span><br><span class="line"><span class="keyword">var</span> BAIDUID = getBAIDUIdFromCookie(req);</span><br><span class="line"><span class="keyword">if</span> (BAIDUID) &#123;</span><br><span class="line">    <span class="keyword">var</span> tmpData = <span class="built_in">JSON</span>.parse(ral_option.data);</span><br><span class="line">    tmpData[<span class="string">'baiduid'</span>] = BAIDUID;</span><br><span class="line">    ral_option.data = <span class="built_in">JSON</span>.stringify(tmpData);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    log.debug(<span class="string">'have no BAIDU'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/07/24/graduation-trip/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/24/graduation-trip/" itemprop="url">
                  graduation trip
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-07-24T13:45:33+08:00">
                2016-07-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/生活/" itemprop="url" rel="index">
                    <span itemprop="name">生活</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/07/24/graduation-trip/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/24/graduation-trip/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>&nbsp;&nbsp;之前有段时间就想着毕业旅行，后来也真没有想到能凑出时间，叫上人，带上攒了有一段时间的钱去旅行。也不废话，写篇文章就默默记录一下一路上见闻。</p>
</blockquote>
<h6 id="u6458_u8981"><a href="#u6458_u8981" class="headerlink" title="摘要"></a>摘要</h6><blockquote>
<p>路线：上海-&gt;西宁-&gt;拉萨-&gt;成都-&gt;重庆  火车上的感受 火车晚餐 西宁  青海湖之旅 通宵火车 拉萨见闻 成都 重庆 回来的火车</p>
</blockquote>
<h6 id="u542F_u7A0B"><a href="#u542F_u7A0B" class="headerlink" title="启程"></a>启程</h6><blockquote>
<p>&nbsp;&nbsp;5月和6月初一头忙着毕业论文，三天两头往学校跑，答辩完，就忙着改论文；另一头计划着搞完毕业这些事情搞完的时间，准备买票和路线安排。终于毕业的事情搞定，在6月8号一大早拿着大包小包坐上去西宁的K车。</p>
</blockquote>
<h6 id="u706B_u8F66_u4E0A"><a href="#u706B_u8F66_u4E0A" class="headerlink" title="火车上"></a>火车上</h6><blockquote>
<p>&nbsp;&nbsp;头一次做长途火车，30多个小时，从长江入海口往长江源头的，路线弯弯曲曲,还好我的位置是下铺，坐着舒服空间大，靠床看看风景也是惬意。路上经过江苏、安徽，时而大雨时而晴朗，手机在火车上信号不佳，也就对着kindle看看小说，但也不能集中注意力, 看会儿书就不由自主的看着窗外移动的景物，听着车厢里的广播，陷入一种陌生的平静之中，可能是平时上班久了，许久没有这样安静下来。</p>
<p>车上的一整天如果没有什么事情做，也是相当无聊的，风景看久了，大致都是南方的景色也不觉得多新奇，也不觉多有意思。车子离开了长江三角洲，进入华北平原。半夜的时候开封站停了一下，对面床位来了一个带着小女孩的大妈，同时好像也带了什么东西，浓烈的大蒜味道，小姑娘闹了许久才睡去。一大早大妈接热水去小姑娘醒来发现奶奶不在又是撕心裂肺的哭喊，就这样极不情愿地被吵醒，看了看窗外，地貌变化巨大，土山、土沟、沟壑纵横、树木稀疏，已经在西安，到达黄土高原了，第二天，窗外的风景看挺久，一直在浙江沪活动，这样的地貌风景一直只在屏幕上和书上出现，现在难得看到，真想看个够。</p>
<p>餐车晚餐。也知道餐车上的晚餐不便宜，但是难得坐一次长途火车，就打算奢侈一回，找到了餐车点了几道菜，看了下感觉总价也还行，也不是很贵。火车上可选的菜不多，上菜也快，就着米饭，那时火车大概开车安徽界内，在一大片麦子的平原上疾驶着，在这样的环境下吃着饭，感觉特别有意思。</p>
</blockquote>
<h6 id="u897F_u5B81"><a href="#u897F_u5B81" class="headerlink" title="西宁"></a>西宁</h6><blockquote>
<p>到西宁的时候已经5点多了，但是西宁要8点左右才会天黑，还有不少时间可以逛逛。在西宁回民比较多，在宾馆放完东西差不多已经是饭点，便沿着路线去最近的有名餐馆吃饭。路过一条路，远远就听到不知道什么语言的歌曲由远及近，路上走着不少回民，买酸奶的小贩边，回民排着整齐的队伍，不像小县城里的围成一圈，偶尔还看到一队年轻的穆斯林–带着小帽子、穿着白大褂，感觉被回民包围着，刚开始还是挺新奇的，但是先入为主，极端穆斯林干的那些事情让我忙不迭离开那边。</p>
<p>在一个小巷子的尽头找到了一家馆子，吃了羊肉、酸奶和本地的面食，酸奶真心不错。西宁天黑的晚，吃完就在市区继续闲逛。西宁虽然是青海省省会但是感觉起来和自己家乡的县城市中心倒是很相似，生活节奏也不快，物价水平相对较低。</p>
</blockquote>
<h6 id="u9752_u6D77_u6E56"><a href="#u9752_u6D77_u6E56" class="headerlink" title="青海湖"></a>青海湖</h6><blockquote>
<p>去青海湖是包车去的，司机是车上补票时遇到的乘警，乘警也是下了火车在西宁休息几天，刚好遇到我们那就顺便挣个外快。<br>关于青海湖，还是直接上图。</p>
</blockquote>
<p><img src="http://ww3.sinaimg.cn/mw690/b359f54bgw1f64sahxvi1j21kw16okcq.jpg" alt="image"><br><img src="http://ww4.sinaimg.cn/mw690/b359f54bgw1f64sagvu21j21kw16o7rf.jpg" alt="image"></p>
<p><img src="http://ww1.sinaimg.cn/mw690/b359f54bgw1f64sadol7jj21kw16oh8g.jpg" alt="image"></p>
<p><img src="http://ww1.sinaimg.cn/mw690/b359f54bgw1f64sabh0vzj21kw16oh6d.jpg" alt="image"></p>
<p><img src="http://7xju1w.com1.z0.glb.clouddn.com/desert2.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/qinghai_boat.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/desert.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/qinghai.jpg" alt="image"></p>
<blockquote>
<p> 在青海湖玩的一天基本都是在车上度过的，驾车去青海湖二郎剑，逛完再去另外一个青海湖景区沙岛，青海湖北岸漫天遍野的黄沙，稀疏的草地。一天玩下来，还是比较累的,回市区的路上又逛了一个古城和一个炎黄主题的庙宇，我后来直接在后座上睡着了</p>
</blockquote>
<h5 id="u62C9_u8428"><a href="#u62C9_u8428" class="headerlink" title="拉萨"></a>拉萨</h5><blockquote>
<p>这次主要的目的地是拉萨，学校里听了好多去西藏旅行的事迹，藏区的人有着信仰，活在地球上最高的地方，也看过各种小说或纪实或想象，藏地被描绘成一个神秘的令人敬畏的所在。既然那么神秘，那就去看看有多神秘，看看什么是信仰。</p>
<p>西宁至拉萨通宵火车。没有买上好的票，只能做通宵的硬座，或者慢慢驶出西宁，驶向郊区，趴在窗口回望看到高楼上缤纷的霓虹、大桥上整齐的彩灯、贴到边破旧的老楼，西宁的夜景这样看来也是蛮不错的。虽然青海和拉萨是隔壁省，但是两个地方离得相当远，高原上火车停靠站也不多，高原上感觉火车开的貌似也不是很快。这一夜的硬座是一次折磨。上厕所难：人多，刚开始厕所等等还是能上的，到了后来厕所的条件越来越恶劣，上完没冲，上完冲不下去，到后来满出来，尿意只能憋回去。挤：车厢拥挤，站票的人占据所有可以占据的地方，车厢与车厢之间的空间，直接有人躺地上睡了起来，硬座的位置确实也很小，换个姿势，伸个腰也是难受。对面作者三个妹子，看着貌似是藏族，说着听不懂的语言，看上去基本搭不上话，车厢的中间部分好像是一个一起出行的团队，几个妹子有说有笑看上去挺欢乐的，但是想想自己也没有什么机会插上嘴。慢慢长夜，也不记得自己是后半夜什么时候睡着，昏昏沉沉就到了第二天。</p>
<p>第二天的基本就是看着窗外的风景，一望无际的草还没有茂盛的黄色草原，积雪的远山，平静的湖泊，星星点点分布着在草原上吃草的牦牛和黄羊,结冰的水量不多的河流，大块淡黄色冰块，还有时不时出现铁道边的向着火车敬礼的铁道工人或者是官兵，这时候有种肃然起敬的感觉。带着的kindle被借去看书去了，自己只能百无聊赖的翻翻手机。</p>
<p>拉萨的记叙</p>
<p>到达拉萨的时候虽然已经下午五点钟了，但是除了车站来到车站外头的广场上，头顶的日头还是和中午一样，拿着大包的我有种头重脚轻的感觉，走路有点飘忽，但是症状还好，不是很明显，后面就坐着公交车到布达拉宫附件的青旅,在西藏其实就在拉萨市区简单的逛了一下，由于种种原因没有买到布达拉宫的门票，只能在布宫面前的广场上遥遥相望，主要也有点高原反应，走了一会也是有点累人。</p>
<p>大昭寺（在千年历史的大昭寺里面参观的时候被里面的事物震撼、敬畏，虽然不知道他们的信仰是否有意义，但是寺庙里面的东西让人感觉卑微） 布达拉宫广场 八廓街</p>
</blockquote>
<p><img src="http://7xju1w.com1.z0.glb.clouddn.com/lasa3.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/lasa.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/lasa2.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/lasa1.jpg" alt="image"></p>
<blockquote>
<p>在拉萨其实呆的时间比较短，后面路线就转到了成都，成都再去重庆，这两个地方也是呆了较短的时间</p>
</blockquote>
<h5 id="u6210_u90FD_u548C_u91CD_u5E86"><a href="#u6210_u90FD_u548C_u91CD_u5E86" class="headerlink" title="成都和重庆"></a>成都和重庆</h5><blockquote>
<p> 这两个地方没有好好逛，时间紧，走马观花似的，看了没有多少东西。</p>
<p>成都留下的印象很深。宽窄巷子：两条街道的两边的建筑看着都有历史沧桑感，各种本地特色小吃，还有曲艺表演的店面，行人络绎不绝，比杭州的河坊街强太多。路过成都的人民公园，发现公园里面的竹桌竹椅摆满了一大片地方，还有看到有人踢毽子，感受了一把成都人民的生活节奏。顺便还去看了国宝熊猫但是也就那样，懒洋洋的熊猫没有什么特别的感觉。<br><img src="http://7xju1w.com1.z0.glb.clouddn.com/chengdu1.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/chengdu2.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/chengdu3.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/chengdu4.jpg" alt="image"><br>重庆山城<br>嘉陵江水清  长江索道 洪崖洞</p>
</blockquote>
<p><img src="http://7xju1w.com1.z0.glb.clouddn.com/chongqing1.jpg" alt="image"><br><img src="http://7xju1w.com1.z0.glb.clouddn.com/chongqing2.jpg" alt="image"></p>
<h5 id="u56DE_u7A0B"><a href="#u56DE_u7A0B" class="headerlink" title="回程"></a>回程</h5><blockquote>
<p>&nbsp;&nbsp;其实在外面逛还是相当累的，自由行自己需要计划好行程，宾馆酒店自己解决，去玩的地方需要好好安排，去拉萨这样的地方什么交通工具都感觉不方便，玩起来费时间,这次毕业旅行逛了不少地方但是没有安静下来慢慢逛，这点有点可惜，以后有机会出去玩，可以慢慢来，有钱有时间就在一个地方慢慢享受旅行的感觉。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/07/10/list-of-tips/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/10/list-of-tips/" itemprop="url">
                  知识整理汇总
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-07-10T19:26:08+08:00">
                2016-07-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/总结/" itemprop="url" rel="index">
                    <span itemprop="name">总结</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/07/10/list-of-tips/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/10/list-of-tips/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="/fonts/tipslist/list.html">知识点汇总的一个页面</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/07/10/linux-command/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/10/linux-command/" itemprop="url">
                  linux_command
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-07-10T14:43:30+08:00">
                2016-07-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/07/10/linux-command/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/10/linux-command/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>整理了自己常用到一些Linux命令，自己使用的较多</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>文件操作</td>
<td>ls 20161<em>.log <br> ls 20160[1-9]</em>.log</td>
<td>正则方式筛选输出</td>
</tr>
<tr>
<td>文件操作</td>
<td>tar -zcvf target.tar.gz sourcefile</td>
<td>压缩</td>
</tr>
<tr>
<td>文件操作</td>
<td>tar -zxvf target.tar.gz</td>
<td>解压缩</td>
</tr>
<tr>
<td>文件操作</td>
<td>du -hs path</td>
<td>查看文件大小（Mb单位）</td>
</tr>
<tr>
<td>文件操作</td>
<td>df</td>
<td>磁盘情况预览</td>
</tr>
<tr>
<td>文件操作</td>
<td>cp -r xx yy</td>
<td>递归方式拷贝（拷贝所有文件和文件夹）</td>
</tr>
<tr>
<td>文件操作</td>
<td>wget <a href="http://a.com/b.jpg" target="_blank" rel="external">http://a.com/b.jpg</a> -P pic/</td>
<td>wget 指定文件存放的目录</td>
</tr>
<tr>
<td>文件操作</td>
<td>chmod 755 imgcat</td>
<td>imgcat是imgcat.sh 去掉了后缀名,可以直接 ./imgcat (sh imgcat.sh)</td>
</tr>
<tr>
<td>文件操作</td>
<td>scp -r username@servername:/path/filename /target/path</td>
<td>拷贝别人开发机的文件(-r 拷贝所有文件和文件夹)</td>
</tr>
<tr>
<td>hadoop</td>
<td>hadoop fs -getmerge /app/2016 data.txt</td>
<td>2016目录下的所有文件merge到data.txt中</td>
</tr>
<tr>
<td>hadoop</td>
<td>hadoop fs -cat,-ls,-dus,-rmr</td>
<td>fs类型的多种操作</td>
</tr>
<tr>
<td>进程</td>
<td>ps -ax  ps -le &#166; grep node</td>
<td>查看进程,加上grep进行各种过滤</td>
</tr>
<tr>
<td>字符处理</td>
<td>iconv -f ‘utf-8’ -t ‘gbk’ a.txt &gt; b.txt</td>
<td>utf8=&gt;gbk</td>
</tr>
<tr>
<td>字符处理</td>
<td>grep -o ‘xxx’ data.txt &#166; wc -l<br> grep -r ‘name’ ./<br></td>
<td>data.txt中的xxx的出现次数<br>查看当前目录下面的所有含有name字符串的文件</td>
</tr>
<tr>
<td>字符处理</td>
<td>sed ‘s/\t/,/g’ data.txt</td>
<td>data.txt中的tab=&gt;’,’</td>
</tr>
<tr>
<td>字符处理</td>
<td>sed -n ‘5,10p’ data.txt <br> sed -n ‘10p’ data.txt<br> cat nohup.out&#166; head -n 100<br> cat nohup.out&#166; tail -n 100</td>
<td>看5-10行，看第10行,头100，尾100</td>
</tr>
<tr>
<td>其他</td>
<td>date +%Y-%m-%d <br>date -d yesterday +%Y%m%d <br>date -d tomorrow +%Y%m%d <br>date -d ‘30 days ago’ +%Y%m%d</td>
<td>时间获取</td>
</tr>
<tr>
<td>其他</td>
<td>tailf nohup.out</td>
<td>一旦nohup.out更新就去刷新输出</td>
</tr>
<tr>
<td>其他</td>
<td>crontab -e</td>
<td>定时任务配置</td>
</tr>
<tr>
<td>其他</td>
<td>npm list –depth=1 2&gt;/dev/null</td>
<td>查看npm以及目录安装的包（过滤错误信息）</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/04/10/js-Array-Oject-deep-copy/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/10/js-Array-Oject-deep-copy/" itemprop="url">
                  js_Array&Oject_deep_copy
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-04-10T12:45:41+08:00">
                2016-04-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/04/10/js-Array-Oject-deep-copy/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/10/js-Array-Oject-deep-copy/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>js传值使用了引用，在一些场景下会遇到一些奇怪的问题，如</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 浅拷贝</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line"><span class="keyword">var</span> c = a;</span><br><span class="line">a[<span class="number">1</span>] = <span class="string">'2nd'</span>;</span><br><span class="line"><span class="comment">// 实际输出a,b,c发现 都是 [1, "2nd", 3]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = &#123;a:<span class="number">1231</span>,b:<span class="number">312</span>&#125;</span><br><span class="line"><span class="keyword">var</span> b = a</span><br><span class="line"><span class="keyword">var</span> c =a</span><br><span class="line">a.a = <span class="string">'this is a in a'</span></span><br><span class="line"><span class="comment">// 实际输出a,b,c 发现都是 &#123;a: "this is a in a", b: 312&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="array"><a href="#array" class="headerlink" title="array"></a>array</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="comment">// var b = a;</span></span><br><span class="line"><span class="comment">// var c = a;</span></span><br><span class="line"><span class="keyword">var</span> b = a.slice(<span class="number">0</span>, a.length);</span><br><span class="line"><span class="keyword">var</span> c = a.concat();</span><br><span class="line">a[<span class="number">0</span>] = <span class="string">'aaaa'</span>;</span><br><span class="line"><span class="comment">// b,c 没有变化</span></span><br></pre></td></tr></table></figure>
<h3 id="object"><a href="#object" class="headerlink" title="object"></a>object</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 遍历每个属性，这个办法还是有问题的(一旦这个obj比较复杂,含有数组，这个function就不能用了)</span></span><br><span class="line"><span class="keyword">var</span> deepCopy = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line">        result[key] = <span class="keyword">typeof</span> source[key]===<span class="string">'object'</span>? deepCopy(source[key]): source[key];</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/03/02/iterm2-imgcat-show-images-in-iterm2/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/02/iterm2-imgcat-show-images-in-iterm2/" itemprop="url">
                  iterm2_imgcat:show_images_in_iterm2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-03-02T10:36:20+08:00">
                2016-03-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/03/02/iterm2-imgcat-show-images-in-iterm2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/02/iterm2-imgcat-show-images-in-iterm2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iterm2__u914D_u7F6Eimgcat_u663E_u793A_u56FE_u7247"><a href="#iterm2__u914D_u7F6Eimgcat_u663E_u793A_u56FE_u7247" class="headerlink" title="iterm2 配置imgcat显示图片"></a>iterm2 配置imgcat显示图片</h1><hr>
<p>最近更新的iterm2 提示可以在terminal里面显示图片<br>于是我就试了一下，官网上只是提供了imgcat.txt 这个文件，具体步骤没有具体说，我想了一下才记起配置环境变量这个事情</p>
<ul>
<li><p>首先处理imgcat 文件<br>imgcat这个文件可以随便防止，只要添加到path里面即可</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv imgcat.txt imgcat&#10;chmod 755 imgcat //&#36171;&#26435;&#38480; &#20351;./imgcat&#30452;&#25509;&#36816;&#34892;&#10;mv imgcat ~/Document/mybin/imgcat</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加环境变量<br>在.bash_profile的path里面加上imgcat所在的目录<br>有两种写法</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/Users/pro/Document/mybin/:$PATH&#10;export PATH=&#8221;/Users/pro/sdcfe/tools/ant/bin:/Users/pro/Documents/mybin&#8221;</span><br></pre></td></tr></table></figure>
<p>最后source 一下 就好了<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source .bash_profile</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/02/10/roomrenting/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/10/roomrenting/" itemprop="url">
                  roomrenting
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-02-10T15:27:16+08:00">
                2016-02-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/生活/" itemprop="url" rel="index">
                    <span itemprop="name">生活</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/02/10/roomrenting/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/10/roomrenting/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="u79DF_u623F"><a href="#u79DF_u623F" class="headerlink" title="租房"></a>租房</h2><hr>
<p>房东随便找了个理由不给续租(最初的租房合同上也就写着3个月，口头续租好几个月)，说是卫生间打扫的不干净（害她不好把其他房间租出去），叫我们自己出去找房子。然后我和舍友在已经被二房东占领的张江蛋疼地找房子。</p>
<hr>
<p>#####看房过程<br>具体也没有什么过程，首先就是要了一个二房东的号码，打过去问问房子的情况，过去看看，也就看看房子的装修以及房子的价格，看完之后我和室友答应几天之后给回复（然而并不一定给回复，我内心其实感觉还是得来发电话告知一下二房东）；就这么如此重复了好几次。</p>
<hr>
<h5 id="u6700_u540E_u603B_u7ED3_u51E0_u70B9_u5173_u4E8E_u79DF_u623F_u9700_u8981_u6CE8_u610F_u5730_u4E8B_u60C5"><a href="#u6700_u540E_u603B_u7ED3_u51E0_u70B9_u5173_u4E8E_u79DF_u623F_u9700_u8981_u6CE8_u610F_u5730_u4E8B_u60C5" class="headerlink" title="最后总结几点关于租房需要注意地事情"></a>最后总结几点关于租房需要注意地事情</h5><blockquote>
<ul>
<li>赶集或者爱屋及乌什么网站的信息室可以起到参考作用（租房飞高峰期），目前6，7月份，大学生毕业期间，价格波动较大，实际价格还是要和房东或者二房东协商。</li>
<li>正式的租房合同<br>（我第一次签的得那个租房合同相当得不正式，只有一张A4纸就一个房东签名，其他没有了；第二次的租房合同信息比较详细,有公司的印章）</li>
<li>水电煤气费抄表<br>（入住时的初始数字），可以拍照记录(商业住房的水电费贵了好几倍),还有钥匙，门禁卡等等（钥匙和门禁要钱，最好也记在租房协议上）</li>
<li>租房的时间<br>（尽量确定自己会租房的时间，到期续租最好写在协议上，否则房东想赶走你相当容易）</li>
<li>房间打扫干净不干净，可能到最后房东还是会向你收清洁费。</li>
</ul>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/01/10/pxemremppidppx/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/10/pxemremppidppx/" itemprop="url">
                  pxemremppidppx
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-01-10T15:26:08+08:00">
                2016-01-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/01/10/pxemremppidppx/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/01/10/pxemremppidppx/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="px_em_rem_dpi_ppi_dppx"><a href="#px_em_rem_dpi_ppi_dppx" class="headerlink" title="px em rem dpi ppi dppx"></a>px em rem dpi ppi dppx</h1><blockquote>
<p>段落引用</p>
</blockquote>
<h4 id="u68B3_u7406_u4E00_u4E0B_u51E0_u4E2A_u5C3A_u5BF8_u5355_u4F4D_u7684_u7406_u89E3"><a href="#u68B3_u7406_u4E00_u4E0B_u51E0_u4E2A_u5C3A_u5BF8_u5355_u4F4D_u7684_u7406_u89E3" class="headerlink" title="梳理一下几个尺寸单位的理解"></a>梳理一下几个尺寸单位的理解</h4><hr>
<ul>
<li><p>px 像素点 显示屏(不考虑os对高分辨率屏幕的优化，如 Retina屏的显示处理)</p>
</li>
<li><p>em 基于父元素的尺寸，em继承父元素的大小</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    font－size:62.5%;</span><br><span class="line">    /*font－size:10px;上下两句的效果是一样*/</span><br><span class="line">    /*body里面的元素 原来是 12px 写成1.2em即可*/</span><br><span class="line">&#125;</span><br><span class="line">``` </span><br><span class="line">* rem css3属性（IE8 IE8- 不支持） 基于根元素（html元素）</span><br><span class="line">```css </span><br><span class="line">    html &#123;</span><br><span class="line">            font-size: 20px;/*调节根元素大小可以达到放大缩小的效果*/</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>dpi Dots Per Inch（每英寸所打印的点数）<br><img src="http://cdn.infoqstatic.com/statics_s2_20150707-0138u2/resource/articles/development-of-the-mobile-web-deep-concept/zh/resources/zoom_pic.gif" alt="4"></p>
</li>
<li>ppi 显示屏的像素密度<br>计算公式<br><img src="http://cdn.infoqstatic.com/statics_s2_20150707-0138u2/resource/articles/development-of-the-mobile-web-deep-concept/zh/resources/original.png" alt="1"><br><img src="http://hiphotos.baidu.com/exp/pic/item/cbc17b380cd79123de98a335ac345982b2b78033.jpg" alt="2"><br><img src="http://hiphotos.baidu.com/exp/pic/item/c28fddfdfc0392457af8d64e8694a4c27c1e25e6.jpg" alt="3"></li>
<li>dppx 貌似是css3 用来判断Retina屏的<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">lang</span>=<span class="value">"zh-cmn-Hans"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css"></span><br><span class="line"><span class="at_rule">@<span class="keyword">media</span> screen and (min-resolution: <span class="number">2dppx</span>) </span>&#123;</span><br><span class="line">    <span class="class">.normal</span><span class="rules">&#123;<span class="rule"><span class="attribute">display</span>:<span class="value">none</span></span>;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="at_rule">@<span class="keyword">media</span> screen and (min-resolution: <span class="number">1dppx</span>) and (max-resolution: <span class="number">1.9dppx</span>) </span>&#123;</span><br><span class="line">    <span class="class">.retina</span><span class="rules">&#123;<span class="rule"><span class="attribute">display</span>:<span class="value">none</span></span>;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span> <span class="attribute">class</span>=<span class="value">"retina"</span>&gt;</span>视网膜屏<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span> <span class="attribute">class</span>=<span class="value">"normal"</span>&gt;</span>普通屏<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>参考文章<a href="http://www.infoq.com/cn/articles/development-of-the-mobile-web-deep-concept/" target="_blank" rel="external">http://www.infoq.com/cn/articles/development-of-the-mobile-web-deep-concept/</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://my19940202.github.io/2016/01/02/404/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="奚波波">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="波波的github page">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="波波的github page" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/02/404/" itemprop="url">
                  404
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-01-02T15:02:38+08:00">
                2016-01-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/404/" itemprop="url" rel="index">
                    <span itemprop="name">404</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/01/02/404/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/01/02/404/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>没有找到页面</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="奚波波" />
          <p class="site-author-name" itemprop="name">奚波波</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">分類</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">奚波波</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="//apps.bdimg.com/libs/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//apps.bdimg.com/libs/jquery-lazyload/1.9.5/jquery.lazyload.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//apps.bdimg.com/libs/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"xishengbo"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="//cdn.jsdelivr.net/ua-parser.js/0.7.10/ua-parser.min.js"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
